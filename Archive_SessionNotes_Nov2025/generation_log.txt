15:19:14 [INFO] ================================================================================
15:19:14 [INFO] MULTI-FLOOR DXF TO DATABASE CONVERTER
15:19:14 [INFO] Config-Driven ARC + STR Processor
15:19:14 [INFO] ================================================================================
15:19:14 [INFO] Config: /home/red1/Documents/bonsai/2Dto3D/building_config.json
15:19:14 [INFO] Source: /home/red1/Documents/bonsai/2Dto3D/SourceFiles/TERMINAL1DXF
15:19:14 [INFO] Output: /home/red1/Documents/bonsai/2Dto3D/BASE_ARC_STR.db
15:19:14 [INFO] 
15:19:14 [INFO] ================================================================================
15:19:14 [INFO] LOADING CONFIGURATION
15:19:14 [INFO] ================================================================================
15:19:14 [INFO] ‚úÖ Config loaded: building_config.json
15:19:14 [INFO]    Building: Terminal 1 Main Building
15:19:14 [INFO]    Total floors: 7
15:19:14 [INFO]    Floors defined: 8
15:19:14 [INFO]       GB:  -4.0m ‚óã inactive
15:19:14 [INFO]       1F:   0.0m ‚úì ACTIVE
15:19:14 [INFO]       2F:   4.0m ‚óã inactive
15:19:14 [INFO]       3F:   8.0m ‚óã inactive
15:19:14 [INFO]       4F:  12.0m ‚óã inactive
15:19:14 [INFO]       5F:  16.0m ‚óã inactive
15:19:14 [INFO]       6F:  20.0m ‚óã inactive
15:19:14 [INFO]       RF:  24.0m ‚óã inactive
15:19:14 [INFO] 
üìç Spatial Filter Strategy: Per-Discipline (native coords)
15:19:14 [INFO]    ARC: X=[-1620000, -1560000]
15:19:14 [INFO]         Y=[-90000, -40000]
15:19:14 [INFO]    STR: X=[342000, 402000]
15:19:14 [INFO]         Y=[-336000, -296000]
15:19:14 [INFO] 
‚ö†Ô∏è  Coordinate alignment disabled
15:19:14 [INFO] 
================================================================================
15:19:14 [INFO] PARSING ARC TEMPLATE (Single DXF for all floors)
15:19:14 [INFO] ================================================================================
15:19:14 [INFO] File: 2. BANGUNAN TERMINAL 1.dxf
15:19:14 [INFO] Size: 81.8 MB
15:19:36 [INFO] ‚úÖ Opened DXF (version: AC1027, units: 4)
15:19:36 [INFO] üìä Total entities in modelspace: 26519
15:19:36 [INFO] ‚úÖ Extracted 595 ARC entities (2.2%)
15:19:36 [INFO] 
üîç DEBUG: Sample ARC coordinates (first 5, DXF units):
15:19:36 [INFO]    1. X=-1579183.5, Y=-77775.7
15:19:36 [INFO]    2. X=-1579183.2, Y=-69775.7
15:19:36 [INFO]    3. X=-1579183.4, Y=-61775.7
15:19:36 [INFO]    4. X=-1579183.2, Y=-53775.7
15:19:36 [INFO]    5. X=-1579183.5, Y=-53475.7
15:19:36 [INFO] 
üîç DEBUG: ARC coordinate range (DXF units):
15:19:36 [INFO]    X: [-1619508, -1571014] (range: 48495)
15:19:36 [INFO]    Y: [-88262, -44131] (range: 44132)
15:19:36 [INFO] 
üìä ARC Entity Type Breakdown:
15:19:36 [INFO]    LWPOLYLINE          :    350
15:19:36 [INFO]    LINE                :    243
15:19:36 [INFO]    CIRCLE              :      2
15:19:36 [INFO] 
üìä ARC Layer Breakdown (top 15):
15:19:36 [INFO]    WALL1                         :    256
15:19:36 [INFO]    ROOF                          :    186
15:19:36 [INFO]    ROOFSTR                       :     80
15:19:36 [INFO]    wall                          :     47
15:19:36 [INFO]    COL                           :     18
15:19:36 [INFO]    ENGRS COLUMN T1               :      3
15:19:36 [INFO]    roofnew                       :      3
15:19:36 [INFO]    window                        :      2
15:19:36 [INFO] 
================================================================================
15:19:36 [INFO] PROCESSING FLOOR: GB @ -4.0m
15:19:36 [INFO] ================================================================================
15:19:36 [INFO] üìÇ STR DXF: T1-2.0_Lyt_GB_e2P2_240711.dxf
15:19:43 [INFO]    ‚úÖ Extracted 0 STR elements
15:19:43 [INFO] üìê Replicating ARC entities at elevation -4.0m
15:19:43 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:43 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:43 [INFO] 
üìê Building Bounds (XY plane, aligned, DXF units):
15:19:43 [INFO]    X: [-1619508.5, -1571013.8]
15:19:43 [INFO]    Y: [-88262.4, -44130.5]
15:19:43 [INFO]    ‚úÖ Floor slab created
15:19:43 [INFO] üü¶ Generating ceiling slab at 0.0m
15:19:43 [INFO]    ‚úÖ Ceiling slab created
15:19:43 [INFO] 
üìä Floor GB Summary:
15:19:43 [INFO]    Total elements: 597
15:19:43 [INFO]       ARC: 597
15:19:43 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:43 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=-4.0
15:19:43 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=-4.0
15:19:43 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=-4.0
15:19:43 [INFO] 
================================================================================
15:19:43 [INFO] PROCESSING FLOOR: 1F @ 0.0m
15:19:43 [INFO] ================================================================================
15:19:43 [INFO] üìÇ STR DXF: T1-2.1_Lyt_1FB_e1P1_240530.dxf
15:19:47 [INFO]    ‚úÖ Extracted 662 STR elements
15:19:47 [INFO] üìê Replicating ARC entities at elevation 0.0m
15:19:47 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:47 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:47 [INFO]    ‚úÖ Floor slab created
15:19:47 [INFO] üü¶ Generating ceiling slab at 4.0m
15:19:47 [INFO]    ‚úÖ Ceiling slab created
15:19:47 [INFO] 
üìä Floor 1F Summary:
15:19:47 [INFO]    Total elements: 1259
15:19:47 [INFO]       ARC: 597
15:19:47 [INFO]       STR: 662
15:19:47 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:47 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=0.0
15:19:47 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=0.0
15:19:47 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=0.0
15:19:47 [INFO] üîç DEBUG: STR coordinates (DXF units):
15:19:47 [INFO]    1. X=376217.8, Y=-298825.7, Z=0.0
15:19:47 [INFO]    2. X=375617.8, Y=-298825.7, Z=0.0
15:19:47 [INFO]    3. X=376217.8, Y=-306825.7, Z=0.0
15:19:47 [INFO] 
================================================================================
15:19:47 [INFO] PROCESSING FLOOR: 2F @ 4.0m
15:19:47 [INFO] ================================================================================
15:19:47 [INFO]    ‚ö†Ô∏è  No STR DXF for this floor
15:19:47 [INFO] üìê Replicating ARC entities at elevation 4.0m
15:19:48 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:48 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:48 [INFO]    ‚úÖ Floor slab created
15:19:48 [INFO] üü¶ Generating ceiling slab at 8.0m
15:19:48 [INFO]    ‚úÖ Ceiling slab created
15:19:48 [INFO] 
üìä Floor 2F Summary:
15:19:48 [INFO]    Total elements: 597
15:19:48 [INFO]       ARC: 597
15:19:48 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:48 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=4.0
15:19:48 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=4.0
15:19:48 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=4.0
15:19:48 [INFO] 
================================================================================
15:19:48 [INFO] PROCESSING FLOOR: 3F @ 8.0m
15:19:48 [INFO] ================================================================================
15:19:48 [INFO] üìÇ STR DXF: T1-2.3_Lyt_3FB_e1P1_240530.dxf
15:19:51 [INFO]    ‚úÖ Extracted 0 STR elements
15:19:51 [INFO] üìê Replicating ARC entities at elevation 8.0m
15:19:51 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:51 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:51 [INFO]    ‚úÖ Floor slab created
15:19:51 [INFO] üü¶ Generating ceiling slab at 12.0m
15:19:51 [INFO]    ‚úÖ Ceiling slab created
15:19:51 [INFO] 
üìä Floor 3F Summary:
15:19:51 [INFO]    Total elements: 597
15:19:51 [INFO]       ARC: 597
15:19:51 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:51 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=8.0
15:19:51 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=8.0
15:19:51 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=8.0
15:19:51 [INFO] 
================================================================================
15:19:51 [INFO] PROCESSING FLOOR: 4F @ 12.0m
15:19:51 [INFO] ================================================================================
15:19:51 [INFO] üìÇ STR DXF: T1-2.4_Lyt_4FB-6FB_e1P1_240530.dxf
15:19:54 [INFO]    ‚úÖ Extracted 0 STR elements
15:19:54 [INFO] üìê Replicating ARC entities at elevation 12.0m
15:19:54 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:54 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:54 [INFO]    ‚úÖ Floor slab created
15:19:54 [INFO] üü¶ Generating ceiling slab at 16.0m
15:19:54 [INFO]    ‚úÖ Ceiling slab created
15:19:54 [INFO] 
üìä Floor 4F Summary:
15:19:54 [INFO]    Total elements: 597
15:19:54 [INFO]       ARC: 597
15:19:54 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:54 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=12.0
15:19:54 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=12.0
15:19:54 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=12.0
15:19:54 [INFO] 
================================================================================
15:19:54 [INFO] PROCESSING FLOOR: 5F @ 16.0m
15:19:54 [INFO] ================================================================================
15:19:54 [INFO] üìÇ STR DXF: T1-2.4_Lyt_4FB-6FB_e1P1_240530.dxf
15:19:56 [INFO]    ‚úÖ Extracted 0 STR elements
15:19:56 [INFO] üìê Replicating ARC entities at elevation 16.0m
15:19:56 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:56 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:56 [INFO]    ‚úÖ Floor slab created
15:19:56 [INFO] üü¶ Generating ceiling slab at 20.0m
15:19:56 [INFO]    ‚úÖ Ceiling slab created
15:19:56 [INFO] 
üìä Floor 5F Summary:
15:19:56 [INFO]    Total elements: 597
15:19:56 [INFO]       ARC: 597
15:19:56 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:56 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=16.0
15:19:56 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=16.0
15:19:56 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=16.0
15:19:56 [INFO] 
================================================================================
15:19:56 [INFO] PROCESSING FLOOR: 6F @ 20.0m
15:19:56 [INFO] ================================================================================
15:19:56 [INFO] üìÇ STR DXF: T1-2.4_Lyt_4FB-6FB_e1P1_240530.dxf
15:19:58 [INFO]    ‚úÖ Extracted 0 STR elements
15:19:58 [INFO] üìê Replicating ARC entities at elevation 20.0m
15:19:58 [INFO]    ‚úÖ Replicated 595 ARC elements
15:19:58 [INFO] üü¶ Generating floor slab (thickness: 0.3m)
15:19:58 [INFO]    ‚úÖ Floor slab created
15:19:58 [INFO] üü¶ Generating ceiling slab at 24.0m
15:19:58 [INFO]    ‚úÖ Ceiling slab created
15:19:58 [INFO] 
üìä Floor 6F Summary:
15:19:58 [INFO]    Total elements: 597
15:19:58 [INFO]       ARC: 597
15:19:58 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:19:58 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=20.0
15:19:58 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=20.0
15:19:58 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=20.0
15:19:58 [INFO] 
================================================================================
15:19:58 [INFO] PROCESSING FLOOR: RF @ 24.0m
15:19:58 [INFO] ================================================================================
15:19:58 [INFO] üìÇ STR DXF: T1-2.5_Lyt_5R_Truss_e3P0_29Oct'23.dxf
15:20:05 [INFO]    ‚úÖ Extracted 0 STR elements
15:20:05 [INFO] üìê Replicating ARC entities at elevation 24.0m
15:20:05 [INFO]    ‚úÖ Replicated 595 ARC elements
15:20:05 [INFO] üü¶ Generating floor slab (thickness: 0.2m)
15:20:05 [INFO]    ‚úÖ Floor slab created
15:20:05 [INFO] üü¶ Generating ceiling slab at 28.0m
15:20:05 [INFO]    ‚úÖ Ceiling slab created
15:20:05 [INFO] 
üìä Floor RF Summary:
15:20:05 [INFO]    Total elements: 597
15:20:05 [INFO]       ARC: 597
15:20:05 [INFO] 
üîç DEBUG: ARC coordinates after alignment (DXF units):
15:20:05 [INFO]    1. X=-1579183.5, Y=-77775.7, Z=24.0
15:20:05 [INFO]    2. X=-1579183.2, Y=-69775.7, Z=24.0
15:20:05 [INFO]    3. X=-1579183.4, Y=-61775.7, Z=24.0
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] COORDINATE NORMALIZATION
15:20:05 [INFO] ================================================================================
15:20:05 [INFO] üìä Large coordinates detected (likely millimeters)
15:20:05 [INFO]    X range: 2021486
15:20:05 [INFO]    Y range: 287445
15:20:05 [INFO]    ‚úÖ Applying mm‚Üím conversion (scale: 0.001)
15:20:05 [INFO] üìç Normalization parameters:
15:20:05 [INFO]    Offset X: -1619508.50
15:20:05 [INFO]    Offset Y: -331575.70
15:20:05 [INFO]    Unit scale: 0.001
15:20:05 [INFO] 
üîç DEBUG: Sample normalization:
15:20:05 [INFO]    Original: X=-1579183.47, Y=-77775.72, Z=-4.00
15:20:05 [INFO]    After offset: X=40325.02, Y=253799.99
15:20:05 [INFO]    After scale: X=40.33m, Y=253.80m, Z=-4.00m
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] CALCULATING GPS ALIGNMENT
15:20:05 [INFO] ================================================================================
15:20:05 [INFO] ‚úÖ ARC GPS alignment:
15:20:05 [INFO]    DXF native center: (-1595261.1, -66196.5) mm
15:20:05 [INFO]    GPS target center: (120.30, -20.15) m
15:20:05 [INFO]    GPS offset: (1715.56, 46.05) m
15:20:05 [INFO] ‚úÖ STR GPS alignment:
15:20:05 [INFO]    DXF native center: (372947.8, -313861.6) mm
15:20:05 [INFO]    GPS target center: (120.00, -20.20) m
15:20:05 [INFO]    GPS offset: (-252.95, 293.66) m
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] CREATING DATABASE: BASE_ARC_STR.db
15:20:05 [INFO] ================================================================================
15:20:05 [INFO]    üóëÔ∏è  Deleted existing database
15:20:05 [INFO]    ‚úÖ Database schema created (Bonsai-compatible)
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] POPULATING DATABASE
15:20:05 [INFO] ================================================================================
15:20:05 [INFO]    Progress: 1000/5438
15:20:05 [INFO]    Progress: 2000/5438
15:20:05 [INFO]    Progress: 3000/5438
15:20:05 [INFO]    Progress: 4000/5438
15:20:05 [INFO]    Progress: 5000/5438
15:20:05 [INFO] ‚úÖ Inserted 5438 elements
15:20:05 [INFO] 
üîç DEBUG: Sample database entries (normalized, meters):
15:20:05 [INFO]    ARC/IfcColumn: X=1755.89m, Y=299.85m, Z=-4.00m
15:20:05 [INFO]    ARC/IfcColumn: X=1755.89m, Y=307.85m, Z=-4.00m
15:20:05 [INFO]    ARC/IfcColumn: X=1755.89m, Y=315.85m, Z=-4.00m
15:20:05 [INFO] üìç Global offset (model center): (1739.51, 311.43, 12.00) m
15:20:05 [INFO]    Model extent: 58.06 √ó 44.13 √ó 32.00 m
15:20:05 [INFO]    Building spatial index...
15:20:05 [INFO] ‚úÖ Database populated
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] GENERATING GEOMETRY
15:20:05 [INFO] ================================================================================
15:20:05 [INFO] üìç Global offset (model center): (1739.51, 311.43, 12.00) m
15:20:05 [INFO]    Geometry will be generated relative to this center
15:20:05 [INFO]    Progress: 1000/5438 (992 unique, 8 duplicates)
15:20:05 [INFO]    Progress: 2000/5438 (1983 unique, 17 duplicates)
15:20:05 [INFO]    Progress: 3000/5438 (2968 unique, 32 duplicates)
15:20:05 [INFO]    Progress: 4000/5438 (3953 unique, 47 duplicates)
15:20:05 [INFO]    Progress: 5000/5438 (4938 unique, 62 duplicates)
15:20:05 [INFO] ‚úÖ Generated geometry for 5438 elements
15:20:05 [INFO]    Unique geometries: 5368
15:20:05 [INFO]    Deduplication ratio: 1.3%
15:20:05 [INFO] 
üîç DEBUG: First 5 elements geometry:
15:20:05 [INFO]    1. ARC/IfcColumn
15:20:05 [INFO]       Center: (1755.89, 299.85, -4.00) m
15:20:05 [INFO]       Dimensions: 0.90 √ó 0.30 √ó 3.50 m
15:20:05 [INFO]       First vertex: (-1579167.12, -77787.30, -17.75) m
15:20:05 [INFO]    2. ARC/IfcColumn
15:20:05 [INFO]       Center: (1755.89, 307.85, -4.00) m
15:20:05 [INFO]       Dimensions: 0.90 √ó 0.30 √ó 3.50 m
15:20:05 [INFO]       First vertex: (-1579166.88, -69779.32, -17.75) m
15:20:05 [INFO]    3. ARC/IfcColumn
15:20:05 [INFO]       Center: (1755.89, 315.85, -4.00) m
15:20:05 [INFO]       Dimensions: 0.90 √ó 0.30 √ó 3.50 m
15:20:05 [INFO]       First vertex: (-1579167.00, -61771.30, -17.75) m
15:20:05 [INFO]    4. ARC/IfcColumn
15:20:05 [INFO]       Center: (1755.89, 323.85, -4.00) m
15:20:05 [INFO]       Dimensions: 0.90 √ó 0.30 √ó 3.50 m
15:20:05 [INFO]       First vertex: (-1579166.88, -53763.32, -17.75) m
15:20:05 [INFO]    5. ARC/IfcColumn
15:20:05 [INFO]       Center: (1755.89, 324.15, -4.00) m
15:20:05 [INFO]       Dimensions: 0.90 √ó 0.30 √ó 3.50 m
15:20:05 [INFO]       First vertex: (-1579167.12, -53462.98, -17.75) m
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] DATABASE STATISTICS
15:20:05 [INFO] ================================================================================
15:20:05 [INFO] 
üìä Total elements: 5438
15:20:05 [INFO] 
üìä By Floor:
15:20:05 [INFO]    1F   :   1259
15:20:05 [INFO]    2F   :    597
15:20:05 [INFO]    3F   :    597
15:20:05 [INFO]    4F   :    597
15:20:05 [INFO]    5F   :    597
15:20:05 [INFO]    6F   :    597
15:20:05 [INFO]    GB   :    597
15:20:05 [INFO]    RF   :    597
15:20:05 [INFO] 
üìä By Discipline:
15:20:05 [INFO]    ARC  :   4776
15:20:05 [INFO]    STR  :    662
15:20:05 [INFO] 
üìä By IFC Class:
15:20:05 [INFO]    IfcWall                       :   2424
15:20:05 [INFO]    IfcPlate                      :   2152
15:20:05 [INFO]    IfcBeam                       :    576
15:20:05 [INFO]    IfcColumn                     :    254
15:20:05 [INFO]    IfcWindow                     :     16
15:20:05 [INFO]    IfcSlab                       :     16
15:20:05 [INFO] 
================================================================================
15:20:05 [INFO] ‚úÖ COMPLETE
15:20:05 [INFO] ================================================================================
15:20:05 [INFO] 
‚úÖ SUCCESS: Database created at /home/red1/Documents/bonsai/2Dto3D/BASE_ARC_STR.db
15:20:05 [INFO]    Total elements: 5438
15:20:05 [INFO]    Total floors: 8
